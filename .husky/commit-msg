#!/usr/bin/env sh

# Validate commit message format
commit_regex='^(feat|fix|docs|style|refactor|test|chore|perf|ci|build|revert)(\(.+\))?: .{1,50}'

if ! grep -qE "$commit_regex" "$1"; then
  echo ""
  echo "‚ùå Invalid commit message format!"
  echo ""
  echo "üìù Format: type(scope): description"
  echo ""
  echo "üè∑Ô∏è  Valid types:"
  echo "   ‚Ä¢ feat     - new feature"
  echo "   ‚Ä¢ fix      - bug fix"
  echo "   ‚Ä¢ docs     - documentation"
  echo "   ‚Ä¢ style    - formatting, missing semi colons, etc"
  echo "   ‚Ä¢ refactor - code change that neither fixes a bug nor adds a feature"
  echo "   ‚Ä¢ test     - adding missing tests"
  echo "   ‚Ä¢ chore    - maintain"
  echo "   ‚Ä¢ perf     - performance improvement"
  echo "   ‚Ä¢ ci       - CI/CD changes"
  echo "   ‚Ä¢ build    - build system changes"
  echo "   ‚Ä¢ revert   - revert previous commit"
  echo ""
  echo "‚úÖ Examples:"
  echo "   feat: add user authentication"
  echo "   fix(api): resolve login endpoint error"
  echo "   docs: update README with setup instructions"
  echo ""
  exit 1
fi